# 安全说明

## 用户信息存储安全改进

### 问题描述
原系统在localStorage中存储完整的用户信息，存在以下安全风险：
- 敏感信息暴露（邮箱、电话、地址等）
- XSS攻击风险
- 信息持久化风险
- 设备共享时的隐私泄露

### 改进方案

#### 1. 存储策略调整
- **localStorage**: 仅存储token（用于身份验证）
- **sessionStorage**: 存储基本用户标识（id、学号、姓名、用户类型）
- **内存存储**: 敏感信息仅在内存中临时存储，页面刷新后清除

#### 2. 数据最小化原则
只存储必要的用户标识信息：
```javascript
const safeUserInfo = {
  id: user.id,
  studentId: user.studentId,
  name: user.name,
  userType: user.userType
}
```

#### 3. 会话管理
- 使用sessionStorage替代localStorage存储用户信息
- 浏览器关闭后自动清除用户信息
- 提供"重置系统状态"功能清除所有存储

#### 4. API安全
- 敏感信息通过API动态获取
- 个人信息页面从后端获取完整数据
- 减少前端存储的敏感信息

### 安全建议

#### 开发环境
1. 定期清理浏览器存储
2. 使用无痕模式测试
3. 检查存储内容的安全性

#### 生产环境
1. 启用HTTPS
2. 实现JWT token机制
3. 添加API访问频率限制
4. 实现用户会话超时机制
5. 添加安全日志记录

### 用户操作建议
1. 定期退出登录
2. 不在公共设备上保持登录状态
3. 使用"重置系统状态"功能清除存储
4. 及时更新密码

### 后续改进计划
1. 实现JWT token认证
2. 添加用户会话管理
3. 实现敏感操作的二次验证
4. 添加安全审计日志 